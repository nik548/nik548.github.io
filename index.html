<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>100 Reasons I Love You</title>
  <!-- Soft, modern font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Reset & base */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 40px;
      min-height: 100vh;
      background: linear-gradient(180deg, #ffe4e8 0%, #fff0f5 100%);
      position: relative;
      overflow: hidden;
    }

    /* Fade-in */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Title */
    h1 {
      font-size: 32px;
      font-weight: 600;
      color: #d6336c;
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeIn 1.2s ease forwards;
    }

    /* Floating flowers */
    .flower {
      position: absolute;
      width: 14px;
      height: 14px;
      background: #ffb6c1;
      border-radius: 50%;
      transform: scale(0);
      animation: bloom 1s forwards, sway 6s ease-in-out infinite;
      opacity: 0.8;
    }
    @keyframes bloom { to { transform: scale(1); } }
    @keyframes sway {
      0%,100% { transform: translateX(0); }
      50%    { transform: translateX(5px); }
    }
    /* Positions */
    .flower:nth-child(1) { top: 15%; left: 10%; animation-delay: 0.2s; }
    .flower:nth-child(2) { top: 40%; left: 20%; animation-delay: 0.4s; }
    .flower:nth-child(3) { top: 70%; left: 15%; animation-delay: 0.6s; }
    .flower:nth-child(4) { top: 25%; right: 15%; animation-delay: 0.3s; }
    .flower:nth-child(5) { top: 55%; right: 20%; animation-delay: 0.5s; }
    .flower:nth-child(6) { top: 85%; right: 10%; animation-delay: 0.7s; }

    /* Card frame & container */
    .card {
      width: 300px;
      height: 200px;
      border: 4px solid #ffccd5;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(255, 182, 193, 0.5);
      background: #fff;
      cursor: pointer;
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeIn 1.5s ease forwards;
      animation-delay: 0.5s;
      perspective: 1000px;
    }
    .card-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.25, 1.5, 0.5, 1);
    }
    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    /* Faces */
    .card-face {
      position: absolute;
      width: 100%; height: 100%;
      backface-visibility: hidden;
      border-radius: 11px;
      font-size: 18px;
      padding: 20px;
      display: flex; justify-content: center; align-items: center;
    }
    .card-front {
      background: #ffccd5;
      color: #222;
    }
    .card-back {
      background: #ffe4e1;
      transform: rotateY(180deg);
      padding-bottom: 80px;
      justify-content: flex-start;
    }

    /* Reason text */
    #reason-text {
      max-width: 240px;
      text-align: center;
      color: #333;
      margin-top: 30px;
    }

    /* Animal */
    .animal {
      position: absolute; bottom: 10px; right: 10px;
      width: 60px; height: 60px;
      animation: dance 1s infinite ease-in-out;
    }
    @keyframes dance {
      0%,100% { transform: translateY(0) rotate(-5deg); }
      50%    { transform: translateY(-5px) rotate(5deg); }
    }
    .animal::before {
      content: ''; position: absolute;
      width: 60px; height: 60px; border-radius: 50%;
      background: inherit;
    }
    .animal::after {
      content: ''; position: absolute;
      width: 8px; height: 8px;
      background: #000; border-radius: 50%;
      top: 20px; left: 15px; box-shadow: 20px 0 #000;
    }
    /* Cat */
    .animal.cat { background: #ffcccb; }
    .animal.cat .ear {
      position: absolute; width:15px; height:15px; background:#ffcccb;
      top:-10px; clip-path:polygon(50% 0%,0% 100%,100% 100%);
    }
    .animal.cat .ear.left { left:5px; }
    .animal.cat .ear.right { right:5px; }
    .animal.cat .whiskers {
      position:absolute; bottom:15px; width:40px; height:2px;
    }
    .animal.cat .whiskers::before,
    .animal.cat .whiskers::after {
      content:''; position:absolute; width:40px; height:2px; background:#000;
    }
    .animal.cat .whiskers::before { transform:rotate(10deg); }
    .animal.cat .whiskers::after { transform:rotate(-10deg); }

    /* Bunny */
    .animal.bunny { background: #f4f4f4; }
    .animal.bunny .ear {
      position:absolute; width:12px; height:30px; background:#f4f4f4;
      top:-30px; border-radius:50%;
    }
    .animal.bunny .ear.left { left:10px; }
    .animal.bunny .ear.right { right:10px; }
    .animal.bunny .blush {
      position:absolute; bottom:10px; left:8px;
      width:10px; height:10px; border-radius:50%;
      background:pink; box-shadow:34px 0 pink;
    }

    /* Bear */
    .animal.bear { background: #deb887; }
    .animal.bear .ear {
      position:absolute; width:14px; height:14px; background:#deb887;
      top:-8px; border-radius:50%;
    }
    .animal.bear .ear.left { left:8px; }
    .animal.bear .ear.right { right:8px; }
    .animal.bear .nose {
      position:absolute; top:30px; left:26px;
      width:10px; height:8px; border-radius:50%; background:#333;
    }

    /* Countdown */
    #countdown {
      position: fixed; bottom: 20px;
      background: rgba(255,255,255,0.8);
      padding: 5px 10px; border-radius: 8px;
      font-size: 16px; color: #444;
    }
  </style>
</head>
<body>
  <!-- Floating accents -->
  <div class="flower"></div><div class="flower"></div><div class="flower"></div>
  <div class="flower"></div><div class="flower"></div><div class="flower"></div>

  <!-- Title -->
  <h1>100 Reasons I Love You</h1>

  <!-- Card -->
  <div class="card" id="card">
    <div class="card-inner">
      <div class="card-face card-front" id="card-front">
        Click here for today’s reason
      </div>
      <div class="card-face card-back" id="card-back">
        <div id="reason-text"></div>
        <div id="animal" class="animal"></div>
      </div>
    </div>
  </div>

  <!-- Countdown -->
  <div id="countdown"></div>

  <script>
    // List of reasons
    const reasons = [
      "You always make me laugh.", "You’re my biggest supporter.",
      "I love how you scrunch your nose when you smile.",
      "You make even ordinary days special.",
      "You believe in me when I doubt myself.",
      // ...continue to 100
    ];

    // Shuffle
    function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a;}
    let shuffled = shuffle([...reasons]), idx=0;
    function nextReason(){
      if(idx>=shuffled.length){ shuffled=shuffle([...reasons]); idx=0;}
      return shuffled[idx++];
    }

    // Daily reset at 7AM EST
    function getNextReset(){
      const now=new Date();
      const off=now.getTimezoneOffset() + 5*60; // local to EST offset
      const nowEst=new Date(now.getTime()+off*60000);
      let reset=new Date(nowEst);
      reset.setHours(7,0,0,0);
      if(nowEst>=reset) reset.setDate(reset.getDate()+1);
      return new Date(reset.getTime()-off*60000);
    }
    const nextReset=getNextReset();

    // Countdown
    function updateCountdown(){
      const diff=nextReset - new Date();
      if(diff<=0) return location.reload();
      const h=String(Math.floor(diff/3600000)).padStart(2,'0');
      const m=String(Math.floor(diff%3600000/60000)).padStart(2,'0');
      const s=String(Math.floor(diff%60000/1000)).padStart(2,'0');
      document.getElementById('countdown').innerText=`Countdown to next card: ${h}:${m}:${s}`;
    }
    setInterval(updateCountdown,1000); updateCountdown();

    // Pick today's reason (persist)
    let today=localStorage.getItem('todayReason'),
        exp=localStorage.getItem('expiry');
    if(!today || new Date(exp)<=new Date()){
      today=nextReason();
      localStorage.setItem('todayReason',today);
      localStorage.setItem('expiry', nextReset);
    }

    // Animal logic
    const animals=['cat','bunny','bear'];
    function randAnimal(){return animals[Math.floor(Math.random()*animals.length)];}
    function updateBack(){
      document.getElementById('reason-text').innerText = today;
      const a=randAnimal(), div=document.getElementById('animal');
      div.className=`animal ${a}`;
      div.innerHTML=`
        <div class="ear left"></div>
        <div class="ear right"></div>
        ${a==='cat'?'<div class="whiskers"></div>':''}
        ${a==='bunny'?'<div class="blush"></div>':''}
        ${a==='bear'?'<div class="nose"></div>':''}
      `;
    }
    updateBack();

    // Flip
    document.getElementById('card').addEventListener('click',()=> {
      document.getElementById('card').classList.toggle('flipped');
    });
  </script>
</body>
</html>
